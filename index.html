<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Workout Logger – Multi-Page</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div class="wrap">
      <div class="row">
        <div class="grow">
          <h1>Workout Logger</h1>
          <div class="muted thin">Plan, log, and track progress over time.</div>
        </div>
        <nav class="tabs" id="locationTabs">
          <button class="tab" data-location="gym">Gym</button>
          <button class="tab" data-location="home">Home</button>
        </nav>
        <button class="ghost-btn" data-link="#/history" id="goHistory">History</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <!-- PAGE: Session -->
    <div class="stepper" id="stepper">
      <div class="step" data-step="1"><div class="badge">1</div><div>Session</div></div>
      <div class="step" data-step="2"><div class="badge">2</div><div>Equipment</div></div>
      <div class="step" data-step="3"><div class="badge">3</div><div>Exercises</div></div>
      <div class="step" data-step="4"><div class="badge">4</div><div>Review</div></div>
    </div>

    <section class="card grid cols-2 page" data-route="#/session">
      <div>
        <div class="section-title">
          <h2>When are you training?</h2>
          <span class="pill" id="currentLocationPill">Location: —</span>
        </div>
        <div class="chips" id="modeChips">
          <div class="chip" data-mode="now">Training Now</div>
          <div class="chip" data-mode="record">Recording a Past Session</div>
        </div>
        <div id="recordFields" style="display:none; margin-top:12px">
          <label for="dt">Workout date & time</label>
          <input type="datetime-local" id="dt" />
        </div>

        <div class="hr"></div>

        <div class="grid">
          <div>
            <label for="tt">What are you training?</label>
            <select id="tt">
              <option value="" disabled selected>Select type…</option>
              <option>Push</option>
              <option>Pull</option>
              <option>Legs</option>
              <option>Upper</option>
              <option>Lower</option>
              <option>Full Body</option>
              <option value="Specific">Specific Muscle…</option>
            </select>
          </div>
          <div id="muscleWrap" style="display:none">
            <label for="muscle">Choose the muscle</label>
            <select id="muscle">
              <option disabled selected>Select muscle…</option>
              <option>Chest</option><option>Back</option><option>Shoulders</option>
              <option>Biceps</option><option>Triceps</option><option>Quads</option>
              <option>Hamstrings</option><option>Glutes</option><option>Calves</option>
              <option>Abs</option><option>Forearms</option><option>Traps</option>
            </select>
          </div>
        </div>
      </div>

      <div>
        <div class="section-title"><h2>Quick Summary</h2></div>
        <table class="table">
          <tbody>
            <tr><th>Mode</th><td id="sumMode">—</td></tr>
            <tr><th>Date/Time</th><td id="sumDT">—</td></tr>
            <tr><th>Training</th><td id="sumTrain">—</td></tr>
            <tr><th>Location</th><td id="sumLoc">—</td></tr>
          </tbody>
        </table>
        <div class="hr"></div>
        <div class="flex">
          <a class="ghost-btn right primary" href="#/equipment" id="toStep2">Next → Equipment</a>
        </div>
      </div>
    </section>

    <!-- PAGE: Equipment -->
    <section class="card grid cols-2 page" data-route="#/equipment" hidden>
      <div>
        <div class="section-title"><h2>What equipment will you use?</h2></div>
        <div class="grid cols-2">
          <div><label><input type="checkbox" class="equip" value="Barbell"> Barbell</label></div>
          <div><label><input type="checkbox" class="equip" value="Dumbbell"> Dumbbell</label></div>
          <div><label><input type="checkbox" class="equip" value="Cable Machine"> Cable Machine</label></div>
          <div><label><input type="checkbox" class="equip" value="Weight Machine"> Weight Machine</label></div>
          <div><label><input type="checkbox" class="equip" value="Bodyweight"> Bodyweight</label></div>
          <div><label><input type="checkbox" class="equip" value="Resistance Bands"> Resistance Bands</label></div>
          <div><label><input type="checkbox" class="equip" value="Kettlebells"> Kettlebells</label></div>
        </div>
      </div>
      <div>
        <div class="section-title"><h2>Selected</h2></div>
        <div id="equipSelected" class="chips"></div>
        <div class="hr"></div>
        <div class="flex">
          <a class="ghost-btn" href="#/session" id="back1">← Back</a>
          <a class="ghost-btn right primary" href="#/exercises" id="toStep3">Next → Exercises</a>
        </div>
      </div>
    </section>

    <!-- PAGE: Exercises -->
    <section class="card page" data-route="#/exercises" hidden>
      <div class="section-title">
        <h2>Add Exercises</h2>
        <span class="pill">Tip: click a set’s “Last” hint to prefill</span>
      </div>

      <div class="grid cols-2">
        <div class="grid">
          <div>
            <label for="exName">Exercise name</label>
            <input id="exName" type="text" list="exList" placeholder="e.g., Bench Press" />
            <datalist id="exList"></datalist>
          </div>
          <div>
            <label for="exEquip">Exercise equipment</label>
            <select id="exEquip">
              <option value="" selected>Same as workout / N/A</option>
              <option>Barbell</option><option>Dumbbell</option><option>Cable Machine</option>
              <option>Weight Machine</option><option>Bodyweight</option><option>Resistance Bands</option><option>Kettlebells</option>
            </select>
          </div>
          <div class="flex">
            <div class="grow">
              <label for="setCount">How many sets?</label>
              <input type="number" id="setCount" min="1" max="20" value="3" />
            </div>
            <button class="ghost-btn" id="buildSets">Build Set Inputs</button>
          </div>
        </div>

        <div class="grid">
          <div id="prevInfo" class="empty">Enter an exercise name to see your last session & heaviest.</div>
          <div id="setInputs"></div>
          <div class="flex">
            <button class="ghost-btn" id="addSet">+ Add Set</button>
            <button class="ghost-btn warning" id="clearSets">Clear Sets</button>
            <div class="right"></div>
            <button class="ghost-btn primary" id="addExercise">Add Exercise</button>
            <button class="ghost-btn primary" id="updateExercise" hidden>Update Exercise</button>
            <button class="ghost-btn" id="cancelEdit" hidden>Cancel</button>
          </div>
        </div>
      </div>

      <div class="hr"></div>

      <div>
        <div class="section-title"><h2>Exercises in this workout</h2></div>
        <div id="exerciseList" class="grid"></div>
      </div>

      <div class="hr"></div>
      <div class="flex">
        <a class="ghost-btn" href="#/equipment" id="back2">← Back</a>
        <a class="ghost-btn right primary" href="#/review" id="toStep4">Next → Review</a>
      </div>
    </section>

    <!-- PAGE: Review -->
    <section class="card page" data-route="#/review" hidden>
      <div class="section-title"><h2>Review & Complete</h2></div>

      <table class="table" id="reviewTable"><thead>
        <tr><th>Exercise</th><th>Equipment</th><th>Sets (Weight × Reps)</th><th></th></tr>
      </thead><tbody></tbody></table>

      <div class="hr"></div>
      <div class="flex">
        <a class="ghost-btn" href="#/exercises" id="back3">← Back</a>
        <button class="ghost-btn primary right" id="completeWorkout">✅ Complete Workout</button>
      </div>
    </section>

    <!-- PAGE: History -->
    <section class="page" data-route="#/history" hidden>
      <div class="section-title"><h2>History & Progress</h2></div>
      <div class="history-grid">
        <div class="card">
          <div class="chart-header">
            <span class="legend-dot"></span> <strong>Progress over time</strong>
            <div class="right"></div>
            <label for="exercisePicker" style="margin:0">Exercise</label>
            <select id="exercisePicker" style="width:220px"></select>
          </div>
          <div class="chart-wrap">
            <div id="chartArea" style="position:relative">
              <svg id="chart" width="100%" height="260" viewBox="0 0 720 260" preserveAspectRatio="xMidYMid meet"></svg>
              <div class="tooltip" id="chartTip"></div>
            </div>
          </div>
          <div class="muted" style="margin-top:6px">Shows your heaviest set weight per workout for the chosen exercise. Click a point to see details and jump to that workout.</div>
        </div>

        <div class="grid" id="workoutCards"></div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast">Saved ✔️</div>

  <script src="app.js"></script>
</body>
</html>
